<template lang="pug">
  .page-wrapper
    .page-container
      .background-animation
      .content-wrapper
        .container
          
          .header
            Logo
            Account
  
          .row
            .col-12.col-md-6.order-2.order-md-1
              MainVideo
            .col-12.col-md-6.order-1.order-md-2
              MainText
  
          .row
            .col-12
              MakeBid(class="make-bid-button")
  
          .row.statistics-wrapper
            .col-6
              Statistics(v-bind:title="`Игроков онлайн`", v-bind:value="2941")
            .col-6
              Statistics(v-bind:title="`Выиграно игроками`", v-bind:value="287941")
  
          last-payments
          
          Footer
  
    v-dialog
</template>

<script>
  import Logo from "../components/Logo";
  import Account from "../components/Account";
  import MainVideo from "../components/MainVideo";
  import MainText from "../components/MainText";
  import MakeBid from "../components/MakeBid";
  import Statistics from "../components/Statistics";
  import LastPayments from "../components/LastPayments";
  import Footer from "../components/Footer";
  import {TimelineMax} from "gsap";
  import lottie from "lottie-web";

  function debug(str) {
    console.log(`%c debug: ${str}`, "color: #FFFF00");
  }

  export default {
    components: {
      Logo,
      Account,
      MainVideo,
      MainText,
      MakeBid,
      Statistics,
      LastPayments,
      Footer,
    },

    mounted() {
      debug("mounted");

      new TimelineMax()
        .fromTo(this.$el, .433, {
          yPercent: 50,
          opacity: 0,
        }, {
          yPercent: 0,
          opacity: 1,
          onComplete: () => {
            debug("opacity: 1, transfomY: 0");
          }
        }, 1.466);
      
      const animationContainer = this.$el.querySelector(`.background-animation`);
      const animationData = {"v":"5.4.3","fr":29.9700012207031,"ip":0,"op":630.000025660426,"w":1360,"h":1080,"nm":"mov_WOOP_01","ddd":0,"assets":[{"id":"image_0","w":1600,"h":1394,"u":"images/","p":"img_0.png","e":0},{"id":"image_1","w":1600,"h":1394,"u":"images/","p":"img_1.png","e":0},{"id":"image_2","w":1600,"h":1394,"u":"images/","p":"img_2.png","e":0},{"id":"comp_0","layers":[{"ddd":0,"ind":37,"ty":2,"nm":"C1/desktop_Woop_index_01.psd","cl":"psd","refId":"image_0","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0],"y":[1]},"o":{"x":[1],"y":[0]},"n":["0_1_1_0"],"t":43,"s":[0],"e":[100]},{"t":94.0000038286985}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":43,"s":[800,577,0],"e":[800,697,0],"to":[0,20,0],"ti":[0,-10,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0},"n":"0p667_1_0p167_0","t":84,"s":[800,697,0],"e":[800,637,0],"to":[0,10,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":150,"s":[800,637,0],"e":[800,697,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":210,"s":[800,697,0],"e":[800,637,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":265,"s":[800,637,0],"e":[800,697,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":316,"s":[800,697,0],"e":[800,637,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":363,"s":[800,637,0],"e":[800,697,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":409,"s":[800,697,0],"e":[800,637,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":452,"s":[800,637,0],"e":[800,697,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":495,"s":[800,697,0],"e":[800,637,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":538,"s":[800,637,0],"e":[800,697,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":581,"s":[800,697,0],"e":[800,637,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":621,"s":[800,637,0],"e":[800,697,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":651,"s":[800,697,0],"e":[800,637,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":681,"s":[800,637,0],"e":[800,697,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":711,"s":[800,697,0],"e":[800,637,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":741,"s":[800,637,0],"e":[800,697,0],"to":[0,0,0],"ti":[0,-10,0]},{"t":771.000031403474}],"ix":2},"a":{"a":0,"k":[800,697,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":43.0000017514259,"op":943.000038409177,"st":43.0000017514259,"bm":0},{"ddd":0,"ind":38,"ty":2,"nm":"C2/desktop_Woop_index_01.psd","cl":"psd","refId":"image_1","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0],"y":[1]},"o":{"x":[1],"y":[0]},"n":["0_1_1_0"],"t":38,"s":[0],"e":[100]},{"t":89.0000036250443}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":38,"s":[800,577,0],"e":[800,697,0],"to":[0,20,0],"ti":[0,-13.3333330154419,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0},"n":"0p667_1_0p167_0","t":79,"s":[800,697,0],"e":[800,657,0],"to":[0,13.3333330154419,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":150,"s":[800,657,0],"e":[800,697,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":210,"s":[800,697,0],"e":[800,657,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":265,"s":[800,657,0],"e":[800,697,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":316,"s":[800,697,0],"e":[800,657,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":363,"s":[800,657,0],"e":[800,697,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":409,"s":[800,697,0],"e":[800,657,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":452,"s":[800,657,0],"e":[800,697,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":495,"s":[800,697,0],"e":[800,657,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":538,"s":[800,657,0],"e":[800,697,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":581,"s":[800,697,0],"e":[800,657,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":621,"s":[800,657,0],"e":[800,697,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":651,"s":[800,697,0],"e":[800,657,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":681,"s":[800,657,0],"e":[800,697,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":711,"s":[800,697,0],"e":[800,657,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":741,"s":[800,657,0],"e":[800,697,0],"to":[0,0,0],"ti":[0,-6.66666650772095,0]},{"t":771.000031403474}],"ix":2},"a":{"a":0,"k":[800,697,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":38.0000015477717,"op":938.000038205523,"st":38.0000015477717,"bm":0},{"ddd":0,"ind":39,"ty":2,"nm":"C3/desktop_Woop_index_01.psd","cl":"psd","refId":"image_2","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0],"y":[1]},"o":{"x":[1],"y":[0]},"n":["0_1_1_0"],"t":33,"s":[0],"e":[100]},{"t":84.0000034213901}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":33,"s":[800,577,0],"e":[800,697,0],"to":[0,20,0],"ti":[0,-16.6666660308838,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0},"n":"0p667_1_0p167_0","t":74,"s":[800,697,0],"e":[800,677,0],"to":[0,16.6666660308838,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":150,"s":[800,677,0],"e":[800,697,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":210,"s":[800,697,0],"e":[800,677,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":265,"s":[800,677,0],"e":[800,697,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":316,"s":[800,697,0],"e":[800,677,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":363,"s":[800,677,0],"e":[800,697,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":409,"s":[800,697,0],"e":[800,677,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":452,"s":[800,677,0],"e":[800,697,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":495,"s":[800,697,0],"e":[800,677,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":538,"s":[800,677,0],"e":[800,697,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":581,"s":[800,697,0],"e":[800,677,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":621,"s":[800,677,0],"e":[800,697,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":651,"s":[800,697,0],"e":[800,677,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":681,"s":[800,677,0],"e":[800,697,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":711,"s":[800,697,0],"e":[800,677,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":741,"s":[800,677,0],"e":[800,697,0],"to":[0,0,0],"ti":[0,-3.33333325386047,0]},{"t":771.000031403474}],"ix":2},"a":{"a":0,"k":[800,697,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":33.0000013441176,"op":933.000038001869,"st":33.0000013441176,"bm":0}]}],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Shape Layer 1","td":1,"sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p667_1_0p333_0"],"t":44,"s":[0],"e":[100]},{"t":56.0000022809268}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":44,"s":[678,1608,0],"e":[678,540,0],"to":[0,-178,0],"ti":[0,178,0]},{"t":57.0000023216576}],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[99.269,99.231,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[1368,1200],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":50,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"fl","c":{"a":0,"k":[0.141176470588,0.164705882353,0.180392156863,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,80],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Преобразовать"}],"nm":"Rectangle 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":37.0000015070409,"op":630.000025660426,"st":37.0000015070409,"bm":0},{"ddd":0,"ind":2,"ty":0,"nm":"woop","tt":1,"refId":"comp_0","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p667_1_0p333_0"],"t":44,"s":[0],"e":[100]},{"t":56.0000022809268}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"n":"0p667_1_0p333_0","t":44,"s":[678,1684,0],"e":[678,616,0],"to":[0,-178,0],"ti":[0,178,0]},{"t":57.0000023216576}],"ix":2},"a":{"a":0,"k":[800,697,0],"ix":1},"s":{"a":0,"k":[85.418,85.418,100],"ix":6}},"ao":0,"w":1600,"h":1394,"ip":37.0000015070409,"op":630.000025660426,"st":37.0000015070409,"bm":0}],"markers":[]};
      const params = {
        container: animationContainer,
        renderer: `svg`,
        loop: false,
        autoplay: false,
        autoloadSegments: false,
        animationData: animationData
      };

      const anim = lottie.loadAnimation(params);

      anim.playSegments([0, 198], true);

      anim.addEventListener("complete", function() {
        anim.playSegments([198, 581], true);
        debug("lottie comlete");
      });
    },

  }
</script>

<style lang="scss">
  @import "node_modules/bootstrap/scss/bootstrap-grid.scss";
  
  .page-wrapper {
    max-width: 1600px;
    width: calc(100% - 30px);
    margin: 0 auto;
    opacity: 0;
    
    @include media-breakpoint-down(sm) {
      width: 100%;
    }
    
    .page-container {
      background: rgb(35, 42, 46) url(~assets/images/back@1x.png) no-repeat top center;
      border-radius: 50px 50px 0 0;
      background-size: auto 100%;
      padding-top: 87.125%;
      position: relative;
      overflow-x: hidden;
  
      @include media-breakpoint-down(sm) {
        border-radius: 0;
      }
  
      .background-animation {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        
        @include media-breakpoint-down(sm) {
          width: 200%;
          left: 50%;
          transform: translate(-30%, 0);
        }
      }
      
      .content-wrapper {
        margin-top: -87.125%;
      }
    }
  
    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: relative;
      top: -23px;
      margin-bottom: -48px;
      
      @include media-breakpoint-down(sm) {
        top: -10px;
        margin-bottom: 0;
      }
    }
    
    .make-bid-button {
      margin: 22px auto 0 auto;
    }
  
    .statistics-wrapper {
      margin-top: 5px;
      margin-bottom: 30px;
  
      @include media-breakpoint-down(sm) {
        margin-top: 20px;
        margin-bottom: 30px;
      }
    }
    
    @media(-webkit-min-device-pixel-ratio: 1.25),
    (min-resolution: 120dpi) {
    
    }
  }
</style>

